<div class="announcement-bar">
  <div class="announcement-bar__logo">
    <a href="/" style="font-family: {{ section.settings.logo_font | font_face }}">{{ section.settings.logo_text }}</a>
  </div>

  <div class="announcement-bar__search">
    <form action="/search" method="get">
      <input type="text" name="q" placeholder="{{ section.settings.search_placeholder }}">
    </form>
  </div>

  <div class="announcement-bar__icons">
    {%- if section.settings.show_account_link -%}
      <a href="/account" class="announcement-bar__account" aria-label="Account">
        {%- if customer -%}
          {% render 'icon-account' %}
          <span>Account</span>
        {%- else -%}
          {% render 'icon-account' %}
          <span>Sign In</span>
        {%- endif -%}
        <span class="sr-only">
          {%- if customer -%}Account{%- else -%}Sign In{%- endif -%}
        </span>
      </a>
    {%- endif -%}

    {%- if section.settings.show_favorites_link -%}
      <a href="/favorites" class="announcement-bar__favorites" aria-label="Favorites">
        {% render 'icon-favorites' %}
        <span>Favorites</span>
      </a>
    {%- endif -%}

    {%- if section.settings.show_cart_link -%}
      <a href="/cart" class="announcement-bar__cart" aria-label="Cart">
        {% render 'icon-cart' %}
        <span>Cart</span>
        {%- if cart.item_count > 0 -%}
          <span class="announcement-bar__indicator">{{ cart.item_count }}</span>
        {%- endif -%}
        <span class="sr-only">Cart ({{ cart.item_count }})</span>
      </a>
    {%- endif -%}
  </div>
</div>

{% schema %}
{
  "name": "Announcement Bar",
  "settings": [
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo Text",
      "default": "Santana Pier"
    },
    {
      "type": "font_picker",
      "id": "logo_font",
      "label": "Logo font",
      "default": "helvetica_n4"
    },
    {
      "type": "text",
      "id": "search_placeholder",
      "label": "Search Placeholder",
      "default": "What can we help you find?"
    },
    {
      "type": "checkbox",
      "id": "show_account_link",
      "label": "Show Account/Sign In Link",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_favorites_link",
      "label": "Show Favorites Link",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_cart_link",
      "label": "Show Cart Link",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Default Announcement Bar"
    }
  ]
}
{% endschema %}
